<% provide(:title, "Spendings") %>
<p id="notice"><%= notice %></p>

<div class="row">
  <div class="col-xs-12">
    <%= line_chart spendings_by_month_spendings_path, discrete: true, library: {title: "Spendings By Month"} %>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <%= pie_chart spendings_by_category_spendings_path, discrete: true, library: {title: "Spendings By Category"} %>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <%= pie_chart spendings_by_payment_method_spendings_path, discrete: true, library: {title: "Spendings By Payment Methods"} %>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <%= pie_chart spendings_by_payment_method_type_spendings_path, discrete: true, library: {title: "Spendings By Payment Method Type"} %>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <%= line_chart cc_purchase_vs_payment_spendings_path, discrete: true, library: {title: "CC Spendings vs Payments"} %>
  </div>
</div>

<h1>Listing Spendings</h1>

<%= form_tag spendings_path, :method => 'get', :id => "spendings_search" do %>
  <table class="filters">
    <tr>
        <%= hidden_field_tag :direction, params[:direction] %>
        <%= hidden_field_tag :sort, params[:sort] %>
        <td><%= text_field_tag :search, params[:search] %></td>
        <td><%= submit_tag "Search", :name => nil %></td>
    </tr>
  </table>
<% end %>

<%= link_to 'New Spending', new_spending_path, remote: true %>

<%= will_paginate @spendings %>

<table>
  <thead>
    <%= render "spendings/partials/header" %>
  </thead>

  <tbody id="spendings">
    <%= render partial: "spendings/partials/spending", collection: @spendings %>
  </tbody>
</table>

<%= will_paginate @spendings %>

<br>

<%= link_to 'New Spending', new_spending_path, remote: true %>
<div id="spending-modal" class="modal fade"></div>
